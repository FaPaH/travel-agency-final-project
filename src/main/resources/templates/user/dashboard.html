<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
  <title>Dashboard</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <script src="https://unpkg.com/htmx.org@1.9.10"></script>
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>
<body>

<div th:replace="~{fragments/nav-bar :: nav-bar-fragment}">
</div>

<h1 align="center">Dashboard</h1>

<div class="layout container-fluid">
  <aside class="sidebar">
    <button class="nav-btn btn btn-outline-primary"
            hx-get="/user/profile"
            th:attr="hx-get=@{/user/profile/{id}(id=${#authentication.principal.id})}"
            hx-trigger="load, click"
            hx-target="#content-area">
      Profile Info
    </button>
    <button class="nav-btn btn btn-outline-primary"
            th:attr="hx-get=@{/vouchers/user/{id}(id=${#authentication.principal.id})}"
            hx-target="#content-area">
      My Vouchers
    </button>
    <button class="nav-btn btn btn-outline-primary"
            th:attr="hx-get=@{/user/profile/{id}/balance(id=${#authentication.principal.id})}"
            hx-target="#content-area">
      Balance
    </button>
    <button class="nav-btn btn btn-outline-primary"
            hx-get="/auth/reset-password-form"
            hx-target="#content-area">
      Reset Password
    </button>
    <button hx-post="/auth/logout"
            class="nav-btn btn btn-outline-primary">
      Logout
    </button>
  </aside>

  <main class="main-content" id="content-area">
    <p>Loading...</p>
  </main>
</div>

<script th:src="@{/js/script.js}"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
